<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUJAL HAWK 2025 - SPAM TOOL</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #000; color: #0f0; font-family: 'Courier New', Courier, monospace; min-height: 100vh; padding: 20px; }
        .card { background: rgba(0, 255, 0, 0.08); border: 2px solid #0f0; border-radius: 15px; padding: 25px; box-shadow: 0 0 20px rgba(0, 255, 0, 0.3); }
        input, textarea { background: #000; color: #0f0; border: 1px solid #0f0; border-radius: 8px; }
        textarea::placeholder, input::placeholder { color: #0f0a; }
        .console { background: #000; color: #0f0; height: 500px; overflow-y: auto; padding: 20px; border: 2px solid #0f0; border-radius: 10px; font-size: 15px; white-space: pre-wrap; }
        .blink { animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }
        .btn-lg { font-size: 1.3rem; padding: 12px 40px; }
    </style>
</head>
<body>
<div class="container">
    <h1 class="text-center display-4 mb-5 fw-bold text-success">SUJAL HAWK SPAM 2025</h1>

    <div class="text-center mb-4">
        <span id="status" class="badge bg-secondary fs-3 px-5 py-3">STOPPED</span>
        <span class="badge bg-success fs-3 mx-3 px-4 py-3">SENT: <span id="sent">0</span></span>
        <span class="badge bg-info fs-3 px-4 py-3">UPTIME: <span id="uptime">00:00:00</span></span>
    </div>

    <div class="card mb-5">
        <form id="form">
            <div class="row g-4">
                <div class="col-12">
                    <label class="form-label fw-bold">Primary Session ID (Main Account)</label>
                    <input name="primary_sessionid" class="form-control form-control-lg" placeholder="Paste primary sessionid here" required>
                </div>

                <div class="col-12">
                    <label class="form-label fw-bold">Thread ID (Group Chat ID)</label>
                    <input name="thread_id" class="form-control form-control-lg" placeholder="Enter target thread_id" required>
                </div>

                <div class="col-12">
                    <label class="form-label fw-bold">Backup Accounts (sessionid:thread_id per line, optional)</label>
                    <textarea name="backups" class="form-control" rows="5" placeholder="Backup sessionids (max 3)&#10;Example:&#10;sessionid123:142645900509674&#10;sessionid456:142645900509674"></textarea>
                </div>

                <div class="col-12">
                    <label class="form-label fw-bold">Spam Messages (1 per line)</label>
                    <textarea name="messages" class="form-control" rows="8" placeholder="Type/paste your spam messages here&#10;One message per line" required></textarea>
                </div>

                <div class="col-md-3">
                    <label class="form-label fw-bold">Spam Delay (seconds)</label>
                    <input name="spam_delay" type="number" step="0.1" class="form-control form-control-lg" value="30" min="10" max="120">
                </div>

                <div class="col-md-3">
                    <label class="form-label fw-bold">Warmup Duration (seconds)</label>
                    <input name="warmup_duration" type="number" class="form-control form-control-lg" value="600" min="300" max="900">
                    <small>Time for warmup before spam (5-15 min)</small>
                </div>
            </div>

            <div class="text-center mt-5">
                <button type="submit" class="btn btn-success btn-lg px-5 py-3 fw-bold">START SPAMMING</button>
                <button type="button" onclick="fetch('/stop').then(update)" class="btn btn-danger btn-lg px-5 py-3 fw-bold ms-4">STOP</button>
            </div>
        </form>
    </div>

    <div class="card">
        <h3 class="text-center mb-4 text-success">LIVE CONSOLE</h3>
        <div id="console" class="console"></div>
    </div>
</div>

<script>
function update() {
    fetch("/status")
        .then(r => r.json())
        .then(d => {
            document.getElementById("sent").innerText = d.sent;
            document.getElementById("uptime").innerText = d.uptime;
            document.getElementById("status").innerText = d.running ? "RUNNING" : "STOPPED";
            document.getElementById("status").className = d.running 
                ? "badge bg-danger fs-3 px-5 py-3 blink" 
                : "badge bg-secondary fs-3 px-5 py-3";

            const consoleDiv = document.getElementById("console");
            consoleDiv.innerHTML = d.logs.map(l => `<div>${l}</div>`).join("");
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        })
        .catch(err => console.error("Status fetch error:", err));
}

document.getElementById("form").onsubmit = function(e) {
    e.preventDefault();
    const formData = new FormData(e.target);
    fetch("/start", { method: "POST", body: formData })
        .then(r => r.json())
        .then(d => {
            if (d.ok) update();
        })
        .catch(err => console.error("Start error:", err));
};

setInterval(update, 2000);
update();
</script>
</body>
</html>
